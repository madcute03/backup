import{j as e}from"./app.6LWIl6Tz.js";import{d as n,H as s}from"./vendor.Dilc0e1Z.js";import{P as t}from"./PublicLayout.CrDxCOP8.js";function l({eventId:l,refreshTrigger:r}){const c=n.useRef({}),[o,a]=n.useState([]),[i,m]=n.useState(null),d={UB1:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},UB2:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},UB3:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},UB4:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},UB5:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},LB1:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},LB2:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},LB3:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},LB4:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null},GF:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null,loser:null}},[h,u]=n.useState(d);n.useEffect(()=>{l&&fetch(route("double-elimination.show",{event:l})).then(e=>e.json()).then(e=>{e&&e.matches&&Object.keys(e.matches).length?(u(e.matches),m(e.champion)):(u(d),m(null))}).catch(e=>{})},[l,r]);const x=n=>{const s=h[n];return e.jsxs("div",{id:n,ref:e=>c.current[n]=e,className:"p-3 border rounded-lg bg-gray-800 text-white mb-6 w-44 relative",children:[e.jsx("p",{className:"font-bold mb-1",children:n}),["p1","p2"].map(n=>e.jsxs("div",{className:"flex justify-between items-center w-full px-2 py-1 mb-1 rounded text-left "+(s.winner===s[n].name?"bg-green-600":"bg-gray-700"),children:[e.jsx("span",{children:s[n].name}),e.jsx("span",{className:"ml-2 px-2 py-1 bg-gray-900 rounded border border-white w-8 text-center",children:s[n].score})]},n))]})};return n.useLayoutEffect(()=>{requestAnimationFrame(()=>{const e=document.getElementById("bracket-container");if(!e||!h)return;const n=[];[["UB1","UB3"],["UB2","UB4"],["UB3","UB5"],["UB4","UB5"],["UB5","GF"],["LB1","LB2"],["LB2","LB3"],["LB3","LB4"],["LB4","GF"]].forEach(([s,t])=>{const l=c.current[s],r=c.current[t];if(l&&r){const s=l.getBoundingClientRect(),t=r.getBoundingClientRect(),c=e.getBoundingClientRect(),o=s.right-c.left,a=s.top+s.height/2-c.top,i=t.left-c.left,m=`M${o},${a} H${o+30} V${t.top+t.height/2-c.top} H${i}`;n.push(m)}}),a(n)})},[h]),e.jsx(t,{children:e.jsxs("div",{className:"bg-gray-900 min-h-screen p-4 text-white",children:[e.jsx(s,{title:"Bracket Results"}),e.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"6-Team Double Elimination Bracket"}),e.jsxs("div",{id:"bracket-container",className:"relative",children:[e.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:o.map((n,s)=>e.jsx("path",{d:n,stroke:"white",strokeWidth:"2",fill:"none"},s))}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Upper Bracket"}),e.jsxs("div",{className:"flex gap-12 mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 1"}),x("UB1"),x("UB2")]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 2"}),x("UB3"),x("UB4")]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 3"}),x("UB5")]})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Lower Bracket"}),e.jsxs("div",{className:"flex gap-12 mb-10",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 1"}),x("LB1"),x("LB2")]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 2"}),x("LB3")]}),e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold mb-2 text-center",children:"Round 3"}),x("LB4")]})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",style:{position:"absolute",left:"55%",top:"50%",transform:"translateY(-50%)"},children:[e.jsx("h2",{className:"font-bold mb-2 text-center",children:"Grand Final"}),x("GF")]}),i&&e.jsx("div",{className:"flex flex-col justify-center items-center",style:{position:"absolute",left:"70%",top:"55%",transform:"translateY(-50%)"},children:e.jsxs("h2",{className:"text-3xl font-bold text-yellow-400",children:["üèÜ Champion: ",i]})})]})]})})}export{l as default};
