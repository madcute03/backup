import{j as e}from"./app.6LWIl6Tz.js";import{d as t,H as r}from"./vendor.Dilc0e1Z.js";import{d as s}from"./index.9-qugqKv.js";import{A as o}from"./AuthenticatedLayout.BA5uTxXo.js";import n from"./Bracket.DjDdk44g.js";import a from"./Bracket.C1_Q4WSG.js";import l from"./Bracket.Cnv0pr9M.js";import i from"./Bracket.O8_TbAtW.js";import c from"./Bracket.DZQoFPTr.js";import d from"./Bracket.BtE0t1DF.js";import m from"./Bracket2.4LSsSB9X.js";import p from"./Bracket3.C7luXgZp.js";import x from"./Bracket4.BRUEzqQw.js";import u from"./Bracket5.Bk8I1V5O.js";import b from"./Bracket6.BflK-US6.js";import f from"./Bracket7.DEpcintI.js";import g from"./Bracket8.kfEZqaUZ.js";import"./transition.DRRNCHc7.js";function h({events:h=[]}){const[j,k]=t.useState(null),[y,v]=t.useState(null),[N,w]=t.useState(null),B="double"===y?N?{3:n,4:a,5:l,6:i,7:c,8:d}[N]:null:"single"===y&&N?{2:m,3:p,4:x,5:u,6:b,7:f,8:g}[N]:null;return e.jsxs(o,{children:[e.jsx(r,{title:"Create Bracket"}),e.jsxs("div",{className:"p-6",children:[e.jsx("h1",{className:"text-2xl font-bold mb-4",children:"Select Event for Bracket"}),0===h.length?e.jsx("p",{className:"text-gray-600",children:"No events available."}):e.jsx("div",{className:"space-y-4",children:h.map(t=>e.jsxs("div",{className:"border rounded-lg p-4 shadow-sm hover:shadow-md transition",children:[e.jsx("h2",{className:"py-2 text-lg font-semibold",children:t.title}),e.jsx("p",{className:"py-2 text-gray-700",children:t.description}),e.jsxs("p",{className:"py-2 text-sm text-gray-500",children:["Date: ",t.event_date]}),e.jsx("button",{onClick:()=>{k(t),v(null),w(null)},className:"py-2 w-[200px] h-[45px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                               bg-[#2e8eff]/20 flex items-center justify-center \n                                                               hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Create and Reset Bracket"}),e.jsx("br",{}),e.jsx("button",{onClick:()=>{t.bracket_type&&t.teams?j?.id===t.id?(k(null),v(null),w(null)):(k(t),v(t.bracket_type),w(t.teams)):alert("You have not created a bracket yet for this event.")},className:"w-[200px] h-[45px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                               bg-[#2e8eff]/20 flex items-center justify-center \n                                                               hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:j?.id===t.id?"Hide Bracket":"View Created Bracket"})]},t.id))}),j&&!y&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",children:e.jsxs("div",{className:"bg-gray-800 text-white rounded-lg p-6 w-96 shadow-lg border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-center",children:["Choose Bracket Type for ",j.title]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("button",{onClick:()=>v("single"),className:"block w-full bg-green-600 text-white px-4 py-2 rounded text-center hover:bg-green-700 transition-colors",children:"Single Elimination"}),e.jsx("button",{onClick:()=>v("double"),className:"block w-full bg-purple-600 text-white px-4 py-2 rounded text-center hover:bg-purple-700 transition-colors",children:"Double Elimination"})]}),e.jsx("button",{onClick:()=>k(null),className:"mt-3 w-full bg-red-300 px-10 py-2 rounded hover:bg-red-400",children:"Cancel"})]})}),j&&y&&!N&&e.jsx("div",{className:"fixed inset-0 flex items-center justify-center bg-black bg-opacity-80 z-50",children:e.jsxs("div",{className:"bg-gray-800 text-white rounded-lg p-6 w-96 shadow-lg border border-gray-700",children:[e.jsxs("h2",{className:"text-xl font-bold mb-4 text-center",children:["Select Number of Teams (","single"===y?"Single":"Double"," ","Elimination)"]}),e.jsx("div",{className:"grid grid-cols-2 gap-3",children:"single"===y?[2,3,4,5,6,7,8].map(t=>e.jsxs("button",{onClick:()=>{s.Inertia.post(`/events/${j.id}/bracket-settings`,{bracket_type:y,teams:t},{onSuccess:()=>{w(t)},onError:e=>{alert("Failed to save bracket settings.")}}),w(t)},className:"block bg-green-600 text-white px-4 py-2 rounded text-center hover:bg-green-700",children:[t," Teams"]},t)):[3,4,5,6,7,8].map(t=>e.jsxs("button",{onClick:()=>{s.Inertia.post(route("bracket.storeSettings",{event:j.id}),{bracket_type:y,teams:t}),w(t)},className:"block bg-purple-600 text-white px-4 py-2 rounded text-center hover:bg-purple-700",children:[t," Teams"]},t))}),e.jsx("button",{onClick:()=>v(null),className:"mt-4 w-full bg-gray-300 px-4 py-2 rounded hover:bg-gray-400",children:"Back"})]})}),B&&j&&e.jsx(B,{eventId:j.id,teamCount:N})]})]})}export{h as default};
