import{j as e}from"./app.6LWIl6Tz.js";import{A as t}from"./AuthenticatedLayout.BA5uTxXo.js";import{e as s,d as n,L as r}from"./vendor.Dilc0e1Z.js";import"./transition.DRRNCHc7.js";function a(){const{auth:a,events:o=[]}=s().props,i=a.user,[l,d]=n.useState(null),[c,u]=n.useState({title:"",description:"",coordinator_name:"",event_date:"",registration_end_date:"",images:[],existingImages:[],required_players:""}),[x,m]=n.useState(!1),[g,h]=n.useState(!1),[b,p]=n.useState((new Date).getMonth()),[f,v]=n.useState((new Date).getFullYear()),j=({isOpen:t,onClose:s,onDateSelect:n,selectedDate:r,title:a})=>{if(!t)return null;const o=new Date(f,b+1,0).getDate(),i=new Date(f,b,1).getDay(),l=new Date,d=r?new Date(r):null,c=[];for(let x=0;x<i;x++)c.push(e.jsx("div",{className:"p-2"},`empty-${x}`));for(let x=1;x<=o;x++){const t=new Date(f,b,x),r=t.toDateString()===l.toDateString(),a=d&&t.toDateString()===d.toDateString(),o=t<l.setHours(0,0,0,0);c.push(e.jsx("button",{onClick:()=>{const e=`${f}-${String(b+1).padStart(2,"0")}-${String(x).padStart(2,"0")}`;n(e),s()},className:"p-2 text-sm rounded-lg transition-all duration-200 hover:bg-blue-500/20 "+(a?"bg-blue-500 text-white":r?"bg-blue-500/30 text-blue-200":o?"text-gray-500 hover:bg-gray-500/10":"text-gray-300 hover:text-white"),children:x},x))}const u=e=>{"prev"===e?0===b?(p(11),v(f-1)):p(b-1):11===b?(p(0),v(f+1)):p(b+1)};return e.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50",onClick:s,children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 shadow-2xl max-w-sm w-full mx-4",onClick:e=>e.stopPropagation(),children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-lg font-semibold text-white",children:a}),e.jsx("button",{onClick:s,className:"text-gray-400 hover:text-white text-xl",children:"Ã—"})]}),e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{onClick:()=>u("prev"),className:"p-2 hover:bg-slate-700 rounded-lg text-gray-300 hover:text-white transition-colors",children:"â€¹"}),e.jsxs("span",{className:"text-white font-medium",children:[["January","February","March","April","May","June","July","August","September","October","November","December"][b]," ",f]}),e.jsx("button",{onClick:()=>u("next"),className:"p-2 hover:bg-slate-700 rounded-lg text-gray-300 hover:text-white transition-colors",children:"â€º"})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Su","Mo","Tu","We","Th","Fr","Sa"].map(t=>e.jsx("div",{className:"p-2 text-center text-sm text-gray-400 font-medium",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:c})]})})},y=e=>{e.preventDefault();const t=new FormData;Object.entries(c).forEach(([e,s])=>{"images"===e?s.forEach(e=>e&&t.append("images[]",e)):"existingImages"===e?s.forEach(e=>t.append("existing_images[]",e)):t.append(e,s)}),fetch(`/events/${l}`,{method:"POST",headers:{"X-HTTP-Method-Override":"PUT","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")},body:t}).then(()=>{d(null),window.location.reload()})};return e.jsx(t,{children:e.jsxs("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6  text-slate-100",children:[e.jsx("div",{className:"flex items-center justify-center py-10",children:e.jsxs("div",{className:"flex items-center gap-10 flex-col md:flex-row",children:[e.jsx("img",{src:"/images/sems.png",alt:"Logo",className:"h-40 w-40 rounded-full object-cover ring-4 ring-blue-500/60 shadow-2xl shadow-blue-900/40"}),e.jsx("div",{className:"text-center md:text-left",children:e.jsxs("h1",{className:"text-5xl md:text-7xl font-extrabold leading-tight",children:[e.jsx("span",{className:"bg-clip-text text-transparent bg-gradient-to-r from-blue-400 via-sky-400 to-cyan-300",children:"Welcome!"}),e.jsx("span",{className:"block md:inline md:ml-3 text-blue-300",children:i.name})]})})]})}),e.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 p-6 rounded-xl shadow-lg shadow-blue-950/30",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Events"}),0===o.length&&e.jsx("p",{children:"No events created."}),o.map(t=>e.jsxs("div",{className:"border-b py-4",children:[e.jsxs("p",{className:"text-sm text-gray-500",children:["Required Players: ",t.required_players]}),l===t.id?e.jsxs("form",{onSubmit:y,encType:"multipart/form-data",className:"space-y-2",children:[e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Title"}),e.jsx("input",{type:"text",value:c.title,onChange:e=>u({...c,title:e.target.value}),className:"w-full border border-slate-600 bg-slate-700 text-white px-2 py-1 rounded focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Description"}),e.jsx("textarea",{value:c.description,onChange:e=>u({...c,description:e.target.value}),className:"w-full border border-slate-600 bg-slate-700 text-white px-2 py-1 rounded focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Coordinator Name"}),e.jsx("input",{type:"text",value:c.coordinator_name,onChange:e=>u({...c,coordinator_name:e.target.value}),className:"w-full border border-slate-600 bg-slate-700 text-white px-2 py-1 rounded focus:border-blue-500 focus:outline-none"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Event Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c.event_date?new Date(c.event_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Select event date",onClick:()=>m(!0),readOnly:!0,className:"w-full border border-slate-600 bg-slate-700 text-white px-2 py-1 rounded cursor-pointer hover:bg-slate-600 transition-colors focus:border-blue-500 focus:outline-none",placeholder:"Select event date"}),e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none",children:"ðŸ“…"})]}),e.jsx(j,{isOpen:x,onClose:()=>m(!1),onDateSelect:e=>u({...c,event_date:e}),selectedDate:c.event_date,title:"Select Event Date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Registration End Date"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{type:"text",value:c.registration_end_date?new Date(c.registration_end_date).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"Select registration end date",onClick:()=>h(!0),readOnly:!0,className:"w-full border border-slate-600 bg-slate-700 text-white px-2 py-1 rounded cursor-pointer hover:bg-slate-600 transition-colors focus:border-blue-500 focus:outline-none",placeholder:"Select registration end date"}),e.jsx("div",{className:"absolute right-2 top-1/2 transform -translate-y-1/2 text-gray-500 pointer-events-none",children:"ðŸ“…"})]}),e.jsx(j,{isOpen:g,onClose:()=>h(!1),onDateSelect:e=>u({...c,registration_end_date:e}),selectedDate:c.registration_end_date,title:"Select Registration End Date"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Images"}),c.images.map((t,s)=>e.jsx("input",{type:"file",className:"w-full border border-slate-600 bg-slate-700 mt-1 text-white focus:border-blue-500 focus:outline-none",onChange:e=>{const t=[...c.images];t[s]=e.target.files[0],u({...c,images:t})}},s)),e.jsx("button",{type:"button",onClick:()=>u({...c,images:[...c.images,null]}),className:"text-blue-400 underline mt-2",children:"+ Add image"})]}),e.jsx("div",{className:"flex flex-wrap gap-2",children:c.existingImages?.map((t,s)=>e.jsxs("div",{className:"relative",children:[e.jsx("img",{src:`/storage/${t}`,alt:"Existing event",className:"w-24 h-24 object-cover rounded"}),e.jsx("button",{type:"button",onClick:()=>{const e=[...c.existingImages];e.splice(s,1),u({...c,existingImages:e})},className:"absolute top-0 right-0 bg-red-500 text-white rounded-full w-6 h-6 flex items-center justify-center text-sm",children:"Ã—"})]},s))}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-sm",children:"Required Players"}),e.jsxs("select",{className:"w-full border text-black px-2 py-1 rounded",value:c.required_players||"",onChange:e=>u({...c,required_players:e.target.value}),required:!0,children:[e.jsx("option",{value:"",children:"Select number of players"}),[...Array(20)].map((t,s)=>e.jsx("option",{value:s+1,children:s+1},s+1))]})]}),e.jsxs("div",{className:"flex gap-2 mt-2",children:[e.jsx("button",{type:"submit",className:"w-[131px] h-[40px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                               bg-[#2e8eff]/20 flex items-center justify-center \n                                                               hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Save"}),e.jsx("button",{type:"button",onClick:()=>d(null),className:"w-[131px] h-[40px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#8b0000] to-[#8b0000]/0 \n                                                               bg-[#8b0000]/20 flex items-center justify-center \n                                                               hover:bg-[#8b0000]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#8b0000]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Cancel"})]})]}):e.jsxs("div",{className:"flex justify-between items-start gap-3 flex-col md:flex-row",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"text-lg font-semibold py-2",children:t.title}),e.jsx("p",{children:t.description}),e.jsxs("p",{className:"text-sm text-gray-500 py-2",children:["By ",t.coordinator_name," | ",t.event_date]}),e.jsxs("p",{className:"text-sm text-red-500 py-2",children:["Registration Until: ",t.registration_end_date]}),t.images_path?.map((t,s)=>e.jsx("img",{src:`/storage/${t}`,alt:"Event",className:"w-32 mt-2 rounded py-2"},s)),e.jsxs("div",{className:"mt-2 flex items-center gap-2 flex-wrap",children:[t.is_done?e.jsxs(e.Fragment,{children:[e.jsx("span",{className:"text-green-500 font-semibold",children:"âœ“ Done"}),e.jsx("button",{onClick:()=>{return e=t.id,void fetch(`/events/${e}/mark-undone`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(()=>window.location.reload());var e},className:"bg-slate-800 text-white px-3 py-1 rounded hover:bg-slate-700 transition",children:"Mark as Undone"})]}):e.jsx("button",{onClick:()=>{return e=t.id,void fetch(`/events/${e}/mark-done`,{method:"POST",headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(()=>window.location.reload());var e},className:"w-[131px] h-[45px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                               bg-[#2e8eff]/20 flex items-center justify-center \n                                                               hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Mark as Done"}),e.jsx(r,{href:route("events.registrations",t.id),className:"w-[180px] h-[45px] rounded-[15px] cursor-pointer \n                                                           transition duration-300 ease-in-out \n                                                           bg-gradient-to-br from-[#00ff00] to-[#00ff00]/0 \n                                                           bg-[#00ff00]/20 flex items-center justify-center \n                                                           hover:bg-[#00ff00]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                           focus:outline-none focus:bg-[#00ff00]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"View Registered Teams"})]})]}),e.jsxs("div",{className:"flex gap-2 mt-3 md:mt-0",children:[e.jsx("button",{onClick:()=>(e=>{d(e.id),u({title:e.title||"",description:e.description||"",coordinator_name:e.coordinator_name||"",event_date:e.event_date||"",registration_end_date:e.registration_end_date||"",images:[],existingImages:e.images_path||[],required_players:e.required_players||""})})(t),className:"w-[131px] h-[45px] rounded-[15px] cursor-pointer \n                                                                                            transition duration-300 ease-in-out \n                                                                                            bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                                                            bg-[#2e8eff]/20 flex items-center justify-center \n                                                                                            hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                                                            focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Edit"}),e.jsx("button",{onClick:()=>{return e=t.id,void(confirm("Delete this event?")&&fetch(`/events/${e}`,{method:"POST",headers:{"X-HTTP-Method-Override":"DELETE","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}).then(()=>window.location.reload()));var e},className:"w-[131px] h-[45px] rounded-[15px] cursor-pointer \n                                                                                            transition duration-300 ease-in-out \n                                                                                            bg-gradient-to-br from-[#8b0000] to-[#8b0000]/0 \n                                                                                            bg-[#8b0000]/20 flex items-center justify-center \n                                                                                            hover:bg-[##8b0000]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                                                            focus:outline-none focus:bg-[#8b0000]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Delete"})]})]})]},t.id))]})]})})}export{a as default};
