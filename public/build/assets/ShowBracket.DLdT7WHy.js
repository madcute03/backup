import{j as e}from"./app.6LWIl6Tz.js";import{d as n}from"./vendor.Dilc0e1Z.js";import{P as t}from"./PublicLayout.CrDxCOP8.js";function s({eventId:s,teamCount:l}){const r={UB1:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null},UB2:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null},UB3:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null},LB1:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null},LB2:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null},GF:{p1:{name:"TBD",score:0},p2:{name:"TBD",score:0},winner:null}},[a,c]=n.useState(structuredClone(r)),[i,o]=n.useState(null),[m,d]=n.useState([]),h=n.useRef({});n.useEffect(()=>{s&&fetch(route("double-elimination.show",{event:s})).then(e=>e.json()).then(e=>{e.matches&&c({...r,...e.matches}),e.champion&&o(e.champion)}).catch(e=>{})},[s]);const u=n=>{const t=a[n];return t?e.jsxs("div",{id:n,ref:e=>h.current[n]=e,className:"p-3 border rounded-lg bg-gray-800 text-white mb-6 w-44 relative",children:[e.jsx("p",{className:"font-bold mb-1",children:n}),["p1","p2"].map(n=>e.jsxs("div",{className:"flex justify-between items-center w-full px-2 py-1 mb-1 rounded text-left "+(t.winner===t[n].name?"bg-green-600":"bg-gray-700"),children:[e.jsx("span",{children:t[n].name}),e.jsx("span",{className:"ml-2",children:t[n].score})]},n))]}):null};return n.useLayoutEffect(()=>{requestAnimationFrame(()=>{const e=document.getElementById("bracket-container");if(!e)return;const n=[];[["UB1","UB3"],["UB2","UB3"],["UB3","GF"],["LB1","LB2"],["LB2","GF"]].forEach(([t,s])=>{const l=h.current[t],r=h.current[s];if(!l||!r)return;const a=l.getBoundingClientRect(),c=r.getBoundingClientRect(),i=e.getBoundingClientRect(),o=a.right-i.left,m=a.top+a.height/2-i.top,d=c.left-i.left,u=`M${o},${m} H${o+20} V${c.top+c.height/2-i.top} H${d}`;n.push(u)}),d(n)})},[a]),e.jsx(t,{children:e.jsxs("div",{className:"bg-gray-900 min-h-screen p-6 text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold text-center mb-6",children:[l,"-Team Double Elimination Bracket (Results)"]}),e.jsxs("div",{id:"bracket-container",className:"relative",children:[e.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:m.map((n,t)=>e.jsx("path",{d:n,stroke:"white",strokeWidth:"2",fill:"none"},t))}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Upper Bracket"}),e.jsxs("div",{className:"flex gap-12 mb-10",children:[e.jsxs("div",{children:[u("UB1"),u("UB2")]}),e.jsx("div",{className:"mt-12",children:u("UB3")})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Lower Bracket"}),e.jsxs("div",{className:"flex gap-12 mb-10",children:[e.jsx("div",{children:u("LB1")}),e.jsx("div",{className:"mt-12",children:u("LB2")})]})]}),e.jsxs("div",{className:"flex flex-col justify-center items-center",style:{position:"absolute",left:"45%",top:"50%",transform:"translateY(-50%)"},children:[e.jsx("h2",{className:"font-bold mb-2 text-center",children:"Grand Final"}),u("GF")]})]}),i&&e.jsxs("h2",{className:"text-3xl font-bold text-yellow-400 absolute left-[65%] top-[55%]",children:["üèÜ Champion: ",i]})]})})}export{s as default};
