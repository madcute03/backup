import{j as e}from"./app.6LWIl6Tz.js";import{A as t}from"./AuthenticatedLayout.BA5uTxXo.js";import{u as s,d as a,H as l}from"./vendor.Dilc0e1Z.js";import"./index.9-qugqKv.js";import"./transition.DRRNCHc7.js";const n=({value:t,onChange:s,label:l,placeholder:n="Select date"})=>{const[r,o]=a.useState(!1),[i,d]=a.useState(new Date),c=e=>{d(t=>{const s=new Date(t);return s.setMonth(t.getMonth()+e),s})},u=e=>!(!e||!t)&&e.toISOString().split("T")[0]===t,m=e=>{if(!e)return!1;const t=new Date;return e.toDateString()===t.toDateString()},x=(e=>{const t=e.getFullYear(),s=e.getMonth(),a=new Date(t,s,1),l=new Date(t,s+1,0).getDate(),n=a.getDay(),r=[];for(let o=0;o<n;o++)r.push(null);for(let o=1;o<=l;o++)r.push(new Date(t,s,o));return r})(i),h=i.toLocaleDateString("en-US",{month:"long",year:"numeric"});return e.jsxs("div",{className:"relative",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:l}),e.jsxs("div",{className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 rounded-md px-3 py-2 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-600/50 flex items-center justify-between",onClick:()=>o(!r),children:[e.jsx("span",{className:t?"text-slate-100":"text-slate-400",children:t?(b=t,b?new Date(b).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):""):n}),e.jsx("svg",{className:"w-5 h-5 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})})]}),r&&e.jsxs("div",{className:"absolute top-full left-0 mt-1 w-full bg-slate-800 border border-slate-700 rounded-md shadow-lg z-[60] p-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("button",{type:"button",onClick:()=>c(-1),className:"p-1 hover:bg-slate-700 rounded",children:e.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 19l-7-7 7-7"})})}),e.jsx("h3",{className:"text-slate-100 font-medium",children:h}),e.jsx("button",{type:"button",onClick:()=>c(1),className:"p-1 hover:bg-slate-700 rounded",children:e.jsx("svg",{className:"w-5 h-5 text-slate-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})})]}),e.jsx("div",{className:"grid grid-cols-7 gap-1 mb-2",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"].map(t=>e.jsx("div",{className:"text-xs text-slate-400 text-center py-1 font-medium",children:t},t))}),e.jsx("div",{className:"grid grid-cols-7 gap-1",children:x.map((t,a)=>e.jsx("button",{type:"button",onClick:()=>(e=>{if(e){const t=e.toISOString().split("T")[0];s(t),o(!1)}})(t),disabled:!t,className:`\n                                    h-8 text-sm rounded transition-colors\n                                    ${t?"":"invisible"}\n                                    ${u(t)?"bg-blue-600 text-white":m(t)?"bg-slate-600 text-slate-100 hover:bg-slate-500":"text-slate-300 hover:bg-slate-700"}\n                                `,children:t?.getDate()},a))})]}),r&&e.jsx("div",{className:"fixed inset-0 z-[55]",onClick:()=>o(!1)})]});var b};function r({auth:r,events:o=[]}){const{data:i,setData:d,post:c,reset:u}=s({title:"",description:"",coordinator_name:"",event_date:"",registration_end_date:"",images:[],required_players:""}),[m,x]=a.useState(null),[h,b]=a.useState(!1),[g,p]=a.useState(!1),[f,v]=a.useState({title:"",description:"",coordinator_name:"",event_date:"",registration_end_date:"",images:[],required_players:""}),j=()=>{const e=new FormData;Object.entries(i).forEach(([t,s])=>{"images"===t?s.forEach(t=>t&&e.append("images[]",t)):e.append(t,s)}),c("/events",{data:e,onSuccess:()=>u()})};return e.jsxs(t,{user:r.user,children:[e.jsx(l,{title:"CreateEvent"}),e.jsx("div",{className:"py-12",children:e.jsx("div",{className:"mx-auto max-w-7xl sm:px-6 lg:px-8 space-y-6",children:e.jsxs("div",{className:"bg-slate-900/60 border border-slate-800 p-6 rounded-xl shadow-lg shadow-blue-950/30",children:[e.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Create Event"}),e.jsxs("form",{onSubmit:e=>{e.preventDefault();const t=(new Date).toISOString().split("T")[0];if(i.event_date&&i.event_date<t)return b(!0),void p(!0);j()},encType:"multipart/form-data",children:[e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:"Event Title"}),e.jsx("input",{type:"text",className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600/50",value:i.title,onChange:e=>d("title",e.target.value)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:"Description"}),e.jsx("textarea",{className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600/50",value:i.description,onChange:e=>d("description",e.target.value)})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:"Coordinator"}),e.jsx("input",{type:"text",className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 placeholder-slate-400 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600/50",value:i.coordinator_name,onChange:e=>d("coordinator_name",e.target.value)})]}),e.jsx("div",{className:"mb-2",children:e.jsx(n,{label:"Event Start Date",value:i.event_date,onChange:e=>d("event_date",e),placeholder:"Select event start date"})}),e.jsx("div",{className:"mb-2",children:e.jsx(n,{label:"Registration End Date",value:i.registration_end_date,onChange:e=>d("registration_end_date",e),placeholder:"Select registration end date"})}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:"Image of the event"}),i.images.map((t,s)=>e.jsx("input",{type:"file",className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 rounded-md mt-1 file:mr-3 file:py-2 file:px-3 file:rounded-md file:border-0 file:bg-slate-700 file:text-slate-100 hover:file:bg-slate-600",onChange:e=>{const t=[...i.images];t[s]=e.target.files[0],d("images",t)}},s)),e.jsx("button",{type:"button",onClick:()=>d("images",[...i.images,null]),className:"mt-2 text-blue-300 hover:text-blue-200 underline",children:"+ Add image"})]}),e.jsxs("div",{className:"mb-2",children:[e.jsx("label",{className:"block mb-1 text-slate-300",children:"Required Player for this Event"}),e.jsxs("select",{className:"w-full bg-slate-800/60 border border-slate-700 text-slate-100 rounded-md px-3 py-2 focus:outline-none focus:ring-2 focus:ring-blue-600/50",value:i.required_players||"",onChange:e=>d("required_players",e.target.value),required:!0,children:[e.jsx("option",{value:"",children:"Select number of players"}),[...Array(20)].map((t,s)=>e.jsx("option",{value:s+1,children:s+1},s+1))]})]}),e.jsx("button",{type:"submit",className:"w-[131px] h-[45px] rounded-[15px] cursor-pointer \n                                                               transition duration-300 ease-in-out \n                                                               bg-gradient-to-br from-[#2e8eff] to-[#2e8eff]/0 \n                                                               bg-[#2e8eff]/20 flex items-center justify-center \n                                                               hover:bg-[#2e8eff]/70 hover:shadow-[0_0_10px_rgba(46,142,255,0.5)] \n                                                               focus:outline-none focus:bg-[#2e8eff]/70 focus:shadow-[0_0_10px_rgba(46,142,255,0.5)]",children:"Create Event"})]})]})})}),h&&e.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:e.jsxs("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-6 max-w-md mx-4 shadow-xl",children:[e.jsxs("div",{className:"flex items-center mb-4",children:[e.jsx("div",{className:"w-10 h-10 bg-yellow-500/20 rounded-full flex items-center justify-center mr-3",children:e.jsx("svg",{className:"w-6 h-6 text-yellow-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h3",{className:"text-lg font-semibold text-slate-100",children:"Warning: Past Date Selected"})]}),e.jsx("p",{className:"text-slate-300 mb-6",children:"Ang event date na pinili mo ay nakaraan na. Sigurado ka ba na gusto mo itong i-create?"}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx("button",{onClick:()=>{b(!1),p(!1),j()},className:"flex-1 bg-yellow-600 hover:bg-yellow-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200",children:"Yes, Create Event"}),e.jsx("button",{onClick:()=>{b(!1),p(!1)},className:"flex-1 bg-slate-600 hover:bg-slate-700 text-white font-medium py-2 px-4 rounded-lg transition duration-200",children:"Cancel"})]})]})})]})}export{r as default};
