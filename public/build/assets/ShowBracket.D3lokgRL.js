import{j as e}from"./app.6LWIl6Tz.js";import{d as t}from"./vendor.Dilc0e1Z.js";import{P as n}from"./PublicLayout.CrDxCOP8.js";function s({savedBracket:s}){const l={SF:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null},GF:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null}},[r,a]=t.useState(l),[i,c]=t.useState(null),o=t.useRef({}),[m,d]=t.useState([]);t.useEffect(()=>{s&&(a(s.matches||l),c(s.champion||null))},[s]);const x=(t,n)=>{const s=r[t];return e.jsxs("div",{id:t,ref:e=>o.current[t]=e,className:"p-3 border rounded-lg bg-gray-800 text-white mb-6 w-44 relative",children:[e.jsx("p",{className:"font-bold mb-1 text-center",children:n}),["p1","p2"].map(t=>e.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 py-1 rounded "+(s.winner===s[t]?.name?"bg-green-600":"bg-gray-700"),children:[e.jsx("span",{children:s[t]?.name??"TBD"}),e.jsx("span",{children:s[t]?.score||"-"})]},t)),s.winner&&e.jsxs("p",{className:"text-green-400 text-sm mt-1",children:["Winner: ",s.winner]})]})};return t.useLayoutEffect(()=>{const e=document.getElementById("bracket-container");if(!e)return;const t=[["SF","GF"]].map(([t,n])=>{const s=o.current[t],l=o.current[n];if(!s||!l)return null;const r=s.getBoundingClientRect(),a=l.getBoundingClientRect(),i=e.getBoundingClientRect(),c=r.right-i.left,m=r.top+r.height/2-i.top,d=a.left-i.left;return`M${c},${m} H${c+(d-c)/2} V${a.top+a.height/2-i.top} H${d}`}).filter(Boolean);d(t)},[r]),e.jsx(n,{children:e.jsxs("div",{className:"bg-gray-900 min-h-screen p-6 text-white flex flex-col items-center",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"3-Team Single Elimination Bracket"}),e.jsxs("div",{id:"bracket-container",className:"relative flex items-center gap-32",children:[e.jsx("div",{className:"flex flex-col gap-24",children:x("SF","Semi-Final")}),e.jsxs("div",{className:"flex flex-col gap-24 mt-12 relative",children:[x("GF","Grand Final"),i&&e.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-6",children:e.jsxs("h2",{className:"text-3xl font-bold text-yellow-400",children:["🏆 ",i]})})]}),e.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:m.map((t,n)=>e.jsx("path",{d:t,stroke:"white",strokeWidth:"2",fill:"none"},n))})]})]})})}export{s as default};
