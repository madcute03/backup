import{j as e}from"./app.6LWIl6Tz.js";import{d as t}from"./vendor.Dilc0e1Z.js";import{P as n}from"./PublicLayout.CrDxCOP8.js";function s({eventId:s,teamCount:l}){const r={UB1:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null,loser:null},UB2:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null,loser:null},LB1:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null,loser:null},GF:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null,loser:null}},[a,c]=t.useState(r),[o,i]=t.useState(null),[m,d]=t.useState([]),h=t.useRef({});t.useEffect(()=>{s&&fetch(route("double-elimination.show",{event:s})).then(e=>e.json()).then(e=>{e.matches&&c({...r,...e.matches}),e.champion&&i(e.champion)}).catch(e=>{})},[s]);const u=t=>{const n=a[t];return n?e.jsxs("div",{id:t,ref:e=>h.current[t]=e,className:"p-3 border rounded-lg bg-gray-800 text-white mb-6 w-56 relative",children:[e.jsx("p",{className:"font-bold mb-2",children:t}),["p1","p2"].map(t=>e.jsxs("div",{className:"flex justify-between items-center mb-2",children:[e.jsx("span",{children:n[t]?.name??"TBD"}),e.jsx("span",{className:"ml-2",children:n[t]?.score||"-"})]},t))]}):null};return t.useLayoutEffect(()=>{requestAnimationFrame(()=>{const e=document.getElementById("bracket-container");if(!e)return;const t=[];[["UB1","UB2"],["UB2","GF"],["LB1","GF"]].forEach(([n,s])=>{const l=h.current[n],r=h.current[s];if(l&&r){const n=l.getBoundingClientRect(),s=r.getBoundingClientRect(),a=e.getBoundingClientRect(),c=n.right-a.left,o=n.top+n.height/2-a.top,i=s.left-a.left,m=`M${c},${o} H${c+30} V${s.top+s.height/2-a.top} H${i}`;t.push(m)}}),d(t)})},[a]),e.jsx(n,{children:e.jsxs("div",{className:"bg-gray-900 min-h-screen p-4 text-white",children:[e.jsxs("h1",{className:"text-2xl font-bold text-center mb-6",children:[l,"-Team Double Elimination Results"]}),e.jsxs("div",{id:"bracket-container",className:"relative",children:[e.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:m.map((t,n)=>e.jsx("path",{d:t,stroke:"white",strokeWidth:"2",fill:"none"},n))}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Upper Bracket"}),e.jsxs("div",{className:"flex gap-12 mb-10",children:[e.jsx("div",{children:u("UB1")}),e.jsx("div",{children:u("UB2")})]})]}),e.jsxs("div",{children:[e.jsx("h2",{className:"font-bold mb-2",children:"Lower Bracket"}),e.jsx("div",{className:"flex gap-12 mb-10",children:u("LB1")})]}),e.jsxs("div",{className:"absolute left-2/3 top-1/2 transform -translate-y-1/2",children:[u("GF"),o&&e.jsxs("h2",{className:"text-3xl font-bold text-yellow-400 mt-4",children:["üèÜ Champion: ",o]})]})]})]})})}export{s as default};
