import{j as e}from"./app.6LWIl6Tz.js";import{d as n}from"./vendor.Dilc0e1Z.js";import{P as t}from"./PublicLayout.CrDxCOP8.js";function s({eventId:s}){const l={R1A:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null},R1B:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null},SF1:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null},SF2:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null},GF:{p1:{name:"TBD",score:""},p2:{name:"TBD",score:""},winner:null}},[r,a]=n.useState(l),[i,c]=n.useState(null),o=n.useRef({}),[m,d]=n.useState([]);n.useEffect(()=>{s&&fetch(route("single-elimination.show",{event:s})).then(e=>e.json()).then(e=>{e.matches&&(a({...l,...e.matches}),c(e.champion||null))}).catch(e=>{})},[s]);const u=(n,t)=>{const s=r[n];return s?e.jsxs("div",{id:n,ref:e=>o.current[n]=e,className:"p-3 border rounded-lg bg-gray-800 text-white mb-6 w-44 relative",children:[e.jsx("p",{className:"font-bold mb-2 text-center",children:t}),["p1","p2"].map(n=>e.jsxs("div",{className:"flex justify-between items-center mb-2 px-2 py-1 rounded "+(s.winner===s[n]?.name?"bg-green-600":"bg-gray-700"),children:[e.jsx("span",{children:s[n]?.name??"TBD"}),e.jsx("span",{children:s[n]?.score||"-"})]},n)),s.winner&&e.jsxs("p",{className:"text-green-400 text-sm mt-1",children:["Winner: ",s.winner]})]}):null};return n.useLayoutEffect(()=>{const e=document.getElementById("bracket-container");if(!e)return;const n=[["R1A","SF1"],["R1B","SF2"],["SF1","GF"],["SF2","GF"]].map(([n,t])=>{const s=o.current[n],l=o.current[t];if(!s||!l)return null;const r=s.getBoundingClientRect(),a=l.getBoundingClientRect(),i=e.getBoundingClientRect(),c=r.right-i.left,m=r.top+r.height/2-i.top,d=a.left-i.left;return`M${c},${m} H${c+30} V${a.top+a.height/2-i.top} H${d}`}).filter(Boolean);d(n)},[r]),e.jsx(t,{children:e.jsxs("div",{className:"bg-gray-900 min-h-screen p-6 text-white",children:[e.jsx("h1",{className:"text-2xl font-bold text-center mb-6",children:"6-Team Bracket Result"}),e.jsxs("div",{id:"bracket-container",className:"relative flex justify-center items-start gap-24",children:[e.jsxs("div",{className:"flex flex-col gap-24",children:[u("R1A","Round 1"),u("R1B","Round 1")]}),e.jsxs("div",{className:"flex flex-col gap-24 mt-12",children:[u("SF1","Semi-Final 1"),u("SF2","Semi-Final 2")]}),e.jsxs("div",{className:"relative mt-24 ml-12",children:[u("GF","Grand Final"),i&&e.jsx("div",{className:"absolute left-full top-1/2 transform -translate-y-1/2 ml-6",children:e.jsxs("h2",{className:"text-3xl font-bold text-yellow-400",children:["🏆 ",i]})})]}),e.jsx("svg",{className:"absolute top-0 left-0 w-full h-full pointer-events-none",children:m.map((n,t)=>e.jsx("path",{d:n,stroke:"white",strokeWidth:"2",fill:"none"},t))})]})]})})}export{s as default};
